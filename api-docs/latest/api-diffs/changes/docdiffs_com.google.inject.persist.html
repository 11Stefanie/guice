<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<HTML>
<HEAD>
<meta name="generator" content="JDiff v1.1.1">
<!-- Generated by the JDiff Javadoc doclet -->
<!-- (http://www.jdiff.org) -->
<meta name="description" content="JDiff is a Javadoc doclet which generates an HTML report of all the packages, classes, constructors, methods, and fields which have been removed, added or changed in any way, including their documentation, when two APIs are compared.">
<meta name="keywords" content="diff, jdiff, javadiff, java diff, java difference, API difference, difference between two APIs, API diff, Javadoc, doclet">
<LINK REL="stylesheet" TYPE="text/css" HREF="../stylesheet-jdiff.css" TITLE="Style">
<TITLE>
com.google.inject.persist Documentation Differences
</TITLE>
</HEAD>
<BODY>
<!-- Start of nav bar -->
<TABLE summary="Navigation bar" BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
  <TABLE summary="Navigation bar" BORDER="0" CELLPADDING="0" CELLSPACING="3">
    <TR ALIGN="center" VALIGN="top">
      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"> <A HREF="http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/persist/package-summary.html" target="_top"><FONT CLASS="NavBarFont1"><B><tt>latest</tt></B></FONT></A>&nbsp;</TD>
      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"> <A HREF="changes-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"> &nbsp;<FONT CLASS="NavBarFont1">Package</FONT>&nbsp;</TD>
      <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"> &nbsp;<FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"> <A HREF="docdiffs_index.html"><FONT CLASS="NavBarFont1"><B>Text Changes</B></FONT></A>&nbsp;</TD>
      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"> <A HREF="jdiff_statistics.html"><FONT CLASS="NavBarFont1"><B>Statistics</B></FONT></A>&nbsp;</TD>
      <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"> <A HREF="jdiff_help.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
    </TR>
  </TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM><b>Generated by<br><a href="http://www.jdiff.org" class="staysblack" target="_top">JDiff</a></b></EM></TD>
</TR>
<TR>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="docdiffs_com.google.inject.name.html"><B>PREV PACKAGE</B></A>  &nbsp;
  &nbsp;<A HREF="docdiffs_com.google.inject.persist.finder.html"><B>NEXT PACKAGE</B></A>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <A HREF="../changes.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
  &nbsp;<A HREF="docdiffs_com.google.inject.persist.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell2">&nbsp;</TD>
</TR>
</TABLE>
<HR>
<!-- End of nav bar -->
<h2>
com.google.inject.persist Documentation Differences
</h2>

<blockquote>
This file contains all the changes in documentation in the package <code>com.google.inject.persist</code> as colored differences.
Deletions are shown <strike>like this</strike>, and
additions are shown <span style="background: #FFFF00">like this</span>.
</blockquote>
<blockquote>
If no deletions or additions are shown in an entry, the HTML tags will be what has changed. The <i>new</i> HTML tags are shown in the differences. 
If no documentation existed, and then some was added in a later version, this change is noted in the appropriate class pages of differences, but the change is not shown on this page. Only changes in existing text are shown here. 
Similarly, documentation which was inherited from another class or interface is not shown here.
</blockquote>
<blockquote>
 Note that an HTML error in the new documentation may cause the display of other documentation changes to be presented incorrectly. For instance, failure to close a &lt;code&gt; tag will cause all subsequent paragraphs to be displayed differently.
</blockquote>
<hr>

<A NAME="com.google.inject.persist.PersistFilter!class"></A><a href="com.google.inject.persist.PersistFilter.html" class="hiddenlink">Class <b>PersistFilter</b></a><br><br><blockquote>Apply this filter to enable the HTTP Request unit of work and to <strike>have
</strike><span style="background: #FFFF00">have</span> guice-persist manage <strike>the</strike><span style="background: #FFFF00">the
</span> lifecycle of active units of work.<strike>
</strike> The filter automatically starts and stops the relevant <A HREF="http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/persist/PersistFilter/PersistService.html"><TT>PersistService</TT></A><strike>
</strike> upon <A HREF="http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/persist/PersistFilter/javax/servlet/Filter.html#init(javax.servlet.FilterConfig)"><TT>javax.servlet.Filter.init(javax.servlet.FilterConfig)</TT></A> <strike>and
</strike><span style="background: #FFFF00">and</span> <A HREF="http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/persist/PersistFilter/javax/servlet/Filter.html#destroy()"><TT>javax.servlet.Filter.destroy()</TT></A> respectively.

 <p><strike> </strike>To be able to use the open session-in-view pattern (i.e. work per request),<strike>
</strike> register <strike>this</strike><span style="background: #FFFF00">this
</span> filter <b>once</b> in your Guice {@code ServletModule}. It <strike>is
</strike><span style="background: #FFFF00">is</span> important that you register <strike>this</strike><span style="background: #FFFF00">this
</span> filter before any other filter.

 <p>For multiple providers, you should register this filter once per provider, <strike>inside
</strike><span style="background: #FFFF00">inside</span> a <strike>private</strike><span style="background: #FFFF00">private
</span> module for each persist module installed (this must be the same <strike>private
</strike><span style="background: #FFFF00">private</span> module where the <strike>specific</strike><span style="background: #FFFF00">specific
</span> persist module is itself installed).

 <p><strike>
 </strike>Example configuration:<strike>
</strike><span style="background: #FFFF00">

</span> <pre>{@code
 <strike> </strike>public class MyModule extends ServletModule {
   <strike> </strike>public void configureServlets() {
     <strike> </strike>filter("/*").through(PersistFilter.class);

     <strike> </strike>serve("/index.html").with(MyHtmlServlet.class);
     <strike> </strike>// Etc.
   <strike> </strike>}
 <strike> </strike>}
 }</pre><strike>
</strike><span style="background: #FFFF00">

</span> <p><strike>
 </strike>This filter is thread safe and allows you to create injectors <strike>concurrently
</strike><span style="background: #FFFF00">concurrently</span> and deploy <strike>multiple</strike><span style="background: #FFFF00">multiple
</span> guice-persist modules within the same injector, or <strike>even
</strike><span style="background: #FFFF00">even</span> multiple injectors with persist <strike>modules</strike><span style="background: #FFFF00">modules
</span> withing the same JVM or web app.<strike>
</strike><span style="background: #FFFF00">

</span> <p><strike>
 </strike>This filter requires the Guice Servlet extension.

 @author Dhanji R. Prasanna (dhanji@gmail.com)</blockquote>
<hr align="left" width="100%">
<A NAME="com.google.inject.persist.PersistModule!class"></A><a href="com.google.inject.persist.PersistModule.html" class="hiddenlink">Class <b>PersistModule</b></a><br><br><blockquote>Install this module to add guice-persist library support for JPA <strike>persistence
</strike><span style="background: #FFFF00">persistence</span> providers.

 @author dhanji@gmail.com (Dhanji R. Prasanna)</blockquote>
<hr align="left" width="100%">
<A NAME="com.google.inject.persist.PersistService!class"></A><a href="com.google.inject.persist.PersistService.html" class="hiddenlink">Class <b>PersistService</b></a><br><br><blockquote>Persistence provider service. Use this to manage the <strike>overall
</strike><span style="background: #FFFF00">overall</span> startup and stop of the <strike>persistence</strike><span style="background: #FFFF00">persistence
</span> module(s).

 <p>TODO(dhanji): Integrate with Service API when appropriate.

 @author dhanji@gmail.com (Dhanji R. Prasanna)</blockquote>
<A NAME="com.google.inject.persist.PersistService.dmethod.start()"></A><a href="com.google.inject.persist.PersistService.html" class="hiddenlink">Class <b>PersistService</b></a>, <a href="com.google.inject.persist.PersistService.html#com.google.inject.persist.PersistService.start_changed()" class="hiddenlink">void <b>start()</b></a><br><br><blockquote>Starts the underlying persistence engine and makes guice-persist ready <strike>for
</strike><span style="background: #FFFF00">for</span> use. For instance,<span style="background: #FFFF00">
</span> with JPA, it creates an EntityManagerFactory and <strike>may
</strike><span style="background: #FFFF00">may</span> open connection pools. This method must <strike>be</strike><span style="background: #FFFF00">be
</span> called by your code prior <strike>to
</strike><span style="background: #FFFF00">to</span> using any guice-persist or JPA artifacts. If already started,
 calling this method does nothing, if already stopped, it also <strike>does
</strike><span style="background: #FFFF00">does</span> nothing.</blockquote>
<A NAME="com.google.inject.persist.PersistService.dmethod.stop()"></A><a href="com.google.inject.persist.PersistService.html" class="hiddenlink">Class <b>PersistService</b></a>, <a href="com.google.inject.persist.PersistService.html#com.google.inject.persist.PersistService.stop_changed()" class="hiddenlink">void <b>stop()</b></a><br><br><blockquote>Stops the underlying persistence engine. For instance, with JPA, <strike>it
</strike><span style="background: #FFFF00">it</span> closes the {@<strike>code</strike><span style="background: #FFFF00">code
</span> EntityManagerFactory}. If already stopped, calling <strike>this
</strike><span style="background: #FFFF00">this</span> method does nothing. If not <strike>yet</strike><span style="background: #FFFF00">yet
</span> started, it also does nothing.</blockquote>
<hr align="left" width="100%">
<A NAME="com.google.inject.persist.Transactional!class"></A><a href="com.google.inject.persist.Transactional.html" class="hiddenlink">Class <b>Transactional</b></a><br><br><blockquote><strike> </strike>Any method or class marked with this annotation will be considered for transactionality.<strike>
</strike> <strike>Consult</strike><span style="background: #FFFF00">Consult
</span> the documentation on https://github.com/google/guice/wiki/GuicePersist for <strike>detailed
</strike><span style="background: #FFFF00">detailed</span> semantics.
 Marking a method {@code @Transactional} will start a new transaction before the <strike>method
 executes</strike><span style="background: #FFFF00">method executes
</span> and commit it after the method returns.<strike>
</strike><span style="background: #FFFF00">

</span> <p><strike>
 </strike>If the method throws an exception, the transaction will be rolled back <em>unless</em><strike>
</strike> <strike>you</strike><span style="background: #FFFF00">you
</span> have specifically requested not to in the <A HREF="http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/persist/Transactional/.html#ignore()"><TT>.ignore()</TT></A> clause.<strike>
</strike><span style="background: #FFFF00">

</span> <p><strike>
 </strike>Similarly, the set of exceptions that will trigger a rollback can be defined <strike>in
</strike><span style="background: #FFFF00">in</span> the <A HREF="http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/persist/Transactional/.html#rollbackOn()"><TT>.rollbackOn()</TT></A> clause. By default, only unchecked exceptions trigger <strike>a
</strike><span style="background: #FFFF00">a</span> rollback.

 @author Dhanji R. Prasanna (dhanji@gmail.com)</blockquote>
<hr align="left" width="100%">
<A NAME="com.google.inject.persist.UnitOfWork!class"></A><a href="com.google.inject.persist.UnitOfWork.html" class="hiddenlink">Class <b>UnitOfWork</b></a><br><br><blockquote>This interface is used to gain manual control over the unit of work. This is mostly to <strike>do
</strike><span style="background: #FFFF00">do</span> work <strike>in</strike><span style="background: #FFFF00">in
</span> non-request, non-transactional threads. Or where more fine-grained control over the <strike>unit
</strike><span style="background: #FFFF00">unit</span> of <strike>work</strike><span style="background: #FFFF00">work
</span> is required. Starting and ending a unit of work directly corresponds to opening <strike>and
</strike><span style="background: #FFFF00">and</span> closing <strike>a</strike><span style="background: #FFFF00">a
</span> {@code Session}, {@code EntityManager} or {@code ObjectContainer} respectively.<strike>
</strike><span style="background: #FFFF00">

</span> <p><span style="background: #FFFF00">The</span> <strike>The
 </strike>Unit of Work referred to by UnitOfWork will always be local to the calling thread. <strike>Be</strike><span style="background: #FFFF00">Be
</span> careful <strike>to
</strike><span style="background: #FFFF00">to</span> end() in a finally block. Neither JPA, nor Hibernate supports threadsafe <strike>sessions</strike><span style="background: #FFFF00">sessions
</span> (<strike>reasoning
</strike><span style="background: #FFFF00">reasoning</span> behind thread-locality of Unit of Work semantics).

 <ul>
 <strike>  </strike><li>Using UnitOfWork with the PersistFilter inside a request is not recommended.
 <strike>  </strike><li>Using UnitOfWork with session-per-txn strategy is not terribly clever either.
 <strike>  </strike><li>Using UnitOfWork with session-per-request strategy but *outside* a request (i.e. in a
     <strike>  </strike>background or bootstrap thread) is probably a good use case.
 <strike> </strike></ul>

 @author Dhanji R. Prasanna (dhanji@gmail com)</blockquote>
<A NAME="com.google.inject.persist.UnitOfWork.dmethod.begin()"></A><a href="com.google.inject.persist.UnitOfWork.html" class="hiddenlink">Class <b>UnitOfWork</b></a>, <a href="com.google.inject.persist.UnitOfWork.html#com.google.inject.persist.UnitOfWork.begin_changed()" class="hiddenlink">void <b>begin()</b></a><br><br><blockquote>Starts a Unit Of Work. Underneath, causes a session to the data layer to be opened. If <strike>there
 is</strike><span style="background: #FFFF00">there is
</span> already one open, the invocation will do nothing. In this way, you can define arbitrary
 units-of-work that nest within one another safely.

 <p>Transaction semantics are not affected.</blockquote>
<A NAME="com.google.inject.persist.UnitOfWork.dmethod.end()"></A><a href="com.google.inject.persist.UnitOfWork.html" class="hiddenlink">Class <b>UnitOfWork</b></a>, <a href="com.google.inject.persist.UnitOfWork.html#com.google.inject.persist.UnitOfWork.end_changed()" class="hiddenlink">void <b>end()</b></a><br><br><blockquote>Declares an end to the current Unit of Work. Underneath, causes any open session to the data
 layer to close. If there is no Unit of work open, then the call returns silently. You can
 safely invoke end() repeatedly.<strike>
</strike><span style="background: #FFFF00">

</span> <p><strike>
 </strike>Transaction semantics are not affected.</blockquote>
<hr align="left" width="100%">

</BODY>
</HTML>
